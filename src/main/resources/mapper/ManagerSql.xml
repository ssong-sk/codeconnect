<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.code.mapper.ManagerMapperInter">

<!-- 회원 관리 -->
<select id="countRegister" resultType="int">
	select count(*) from register
</select>

<select id="getAllRegister" parameterType="HashMap" resultType="RDto">
	select * from register order by r_id desc limit #{start},#{perpage}
</select>

<select id="getRegister" resultType="RDto" parameterType="String">
	select * from register where r_num = #{r_num}
</select>

<update id="updateRegister" parameterType="RDto">
	update register set r_id = #{r_id}, r_pass = #{r_pass}, r_name = #{r_name}, r_nickname=#{r_nickname}, r_birthday = #{r_birthday},
	r_hp = #{r_hp}, r_zipcode = #{r_zipcode}, r_addr = #{r_addr}, r_addr_detail = #{r_addr_detail}, r_email = #{r_email}, r_gender = #{r_gender}
	where r_num = #{r_num}
</update>

<delete id="deleteRegister" parameterType="String">
	delete from register where r_num = #{r_num}
</delete>

<!-- 기업 관리 -->
<select id="countCompany" resultType="int">
	select count(*) from company
</select>

<select id="getAllCompany" resultType="CompanyDto" parameterType="HashMap">
	select * from company order by c_id desc limit #{start}, #{perpage}
</select>

<select id="getCompany" resultType="CompanyDto" parameterType="String">
	select * from company where c_num = #{c_num}
</select>

</mapper>